<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Intellecta</title>
  <link rel="stylesheet" href="./aptos_font_family/stylesheet.css">
  <link rel="stylesheet" href="./css/calender.css"/>
  <link rel="stylesheet" href="./css/navbar-util.css"/>
  <link rel="stylesheet" href="./css/IntelAI.css" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=swap" rel="stylesheet" />
</head>
<body>

  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <!-- Sidebar header -->
      <header class="sidebar-header">
        <a href="home.html" class="header-logo">
          <img src="./asset/logo.png" alt="Intellecta">
        </a>
        <button class="toggler sidebar-toggler">
          
        </button>
        <button class="toggler menu-toggler">
          <span class="material-symbols-rounded">menu</span>
        </button>
      </header>
  
      <nav class="sidebar-nav">
        <!-- Primary top nav -->
        <ul class="nav-list primary-nav">
          <li class="nav-item">
            <a href="home.html" class="nav-link">
              <span class="nav-icon material-symbols-rounded">dashboard</span>
              <span class="nav-label">Dashboard</span>
            </a>
            <span class="nav-tooltip">Dashboard</span>
          </li>
          <li class="nav-item">
            <a href="schedule.html" class="nav-link active">
              <span class="nav-icon material-symbols-rounded">calendar_today</span>
              <span class="nav-label">Schedule</span>
            </a>
            <span class="nav-tooltip">Schedule</span>
          </li>
          <li class="nav-item">
            <a href="course.html" class="nav-link">
              <span class="material-symbols-outlined">menu_book</span>
              <span class="nav-label">Course</span>
            </a>
            <span class="nav-tooltip">Course</span>
          </li>
        </ul>
  
        <!-- Secondary bottom nav -->
        <ul class="nav-list secondary-nav">
          <li class="nav-item">
            <a href="setting.html" class="nav-link">
              <span class="nav-icon material-symbols-rounded">settings</span>
              <span class="nav-label">Settings</span>
            </a>
            <span class="nav-tooltip">Settings</span>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      
      <div class="calendar-container">
        <div class="calendar-header">
          <button id="prevMonth">&lt;</button>
          <h3 id="monthYear"></h3>
          <button id="nextMonth">&gt;</button>
        </div>
        <div class="days-label">
          <p>Sun</p>
          <p>Mon</p>
          <p>Tue</p>
          <p>Wed</p>
          <p>Thu</p>
          <p>Fri</p>
          <p>Sat</p>
        </div>
        <div class="calendar-grid" id="calendarGrid"></div>
      </div>
      <!-- Add AI toggle button -->
      <div class="ai-toggle-btn" onclick="toggleAIChat()">
        <span class="material-symbols-outlined">smart_toy</span>
      </div>

      <div class="ai-chatbot-container" id="aiChatPanel">
      </div>
    </main>
    <!-- Event detail modal -->
    <div id="eventDetailModal" class="modal hidden">
      <div class="modal-content">
        <!-- <span class="close-btn" onclick="closeEventDetailModal()">&times;</span> -->
        <div id="modalEventDetails"></div>
      </div>
    </div>
    <!-- Delete event modal-->
     <div id="deleteModal" class="modal hidden">
      <div class="modal-content">
        <div class="header">
          <h3>Delete Event</h3>
          <span onclick="closeEventDetailModal()">&times;</span>
        </div>
        <div class="line"></div>
        <div class="description">
          <p>Choose how to delete the event:</p>
          <button id="deleteInstance">Delete This Instance</button>
          <button id="deleteFuture">Delete This Instance and Upcoming Instances</button>
          <button id="deleteAll">Delete Entire Event</button> 
        </div>
        <div class="cancel-btn">
          <button onclick="closeDeleteEventModal()">Cancel</button>
        </div>
        
      </div>
    </div>
    <!-- Event Form (Initially Hidden) -->
    <aside class="side-content">
      <div id="overlay" class="overlay" style="display: none;">
        <div class="event-form" id="eventForm" style="display: none;">
          <h4>Event Details</h4>
          
          <input type="text" id="eventTitleInput" placeholder="Event Title" />
          <input type="text" id="eventDescInput" placeholder="Event Description" />
          <div class="eventTimeInput">
            <h4>Event Starts</h4>
            <input type="date" id="eventDateInputStart" placeholder="Event Start Date" /> - <input type="time" id="eventTimeInputStart" />
          </div>
          <div class="eventTimeInput">
            <h4>Event Ends</h4>
            <input type="date" id="eventDateInputEnd" placeholder="Event End Date" /> - <input type="time" id="eventTimeInputEnd" />
          </div>
          
          <div class="eventTimeInput">
            <input type="checkbox" id="repeat-check" onchange="toggleRepeatDetailView()"> Repeating
            <div class="event-repeat-detail" id="repeat-detail-viewer">
                <h4>Repeat Type</h4>
                <select name="Repeat Type" id="repeat-type-select">
                  <option value="" disabled selected>Select Repeat Type</option>
                  <option value="daily">Daily</option>
                  <option value="weekly">Weekly</option>
                  <option value="monthly">Monthly</option>
                  <option value="yearly">Yearly</option>
                </select>
                <h4>Repeat Interval</h4>
                <input type="number" id="repeat-event-interval" placeholder="Event Interval" value=1>
                <h4>Until</h4>
                <input type="date" id="eventRepeatEndDate" placeholder="Event Repeat End Date" />
            </div>
          </div>

          <div class="form-buttons">
            <button id="submitEvent" onclick="createEventSchedule()">Add Event</button>
            <button id="cancelEvent">Cancel</button>
          </div>
        </div>
      </div>
      
      <!-- Display Events -->
      <div class="event">
        <button class="add-event-btn" onclick="showInputModal()">+ Add Event</button>
        <div id="eventList" style="margin-top: 20px;"></div>
      </div>
     </aside>
  </div>

  
  <script src="./js/navbar.js"></script>
  <script src="./js/calender.js"></script>
  <script src="./js/ai-chat.js"></script>
</body>
</html>
